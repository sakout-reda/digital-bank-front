<ng-container *ngIf="(customers$ | async) as result" [ngSwitch]="result.dataState">
  <ng-container *ngSwitchCase="DataStateEnum.LOADING">
    Loading .....
  </ng-container>
  <ng-container *ngSwitchCase="DataStateEnum.LOADED">
    <nb-card>
      <nb-card-header class="d-flex flex-row justify-content-between">
        <div>Customers List</div>
        <div>Élément par page :
          <nb-select size="small" placeholder="Élément par page" selected="10">
            <nb-option value="10">10</nb-option>
            <nb-option value="20">20</nb-option>
            <nb-option value="50">50</nb-option>
            <nb-option value="100">100</nb-option>
          </nb-select>
        </div>
      </nb-card-header>
      <nb-card-body>
        <table class="table">
          <thead>
          <tr class="bg-primary fw-bold text-light border border-primary">
            <td (click)="sortBy('fullName')" class=" p-3 border border-end-white">Full Name</td>
            <td (click)="sortBy('birthday')" class=" p-3 border border-end-white">Birthday</td>
            <td (click)="sortBy('phoneNumber')" class=" p-3 border border-end-white">Phone Number</td>
            <td (click)="sortBy('adress')" class=" p-3 border border-end-white">Adress</td>
            <td (click)="sortBy('email')" class=" p-3 border border-end-white">E-mail</td>
            <td class=" p-3 border border-end-white">Actions</td>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td><input class="form-control" placeholder="Full Name"></td>
            <td><input class="form-control" placeholder="Birthday"></td>
            <td><input class="form-control" placeholder="Phone Number"></td>
            <td><input class="form-control" placeholder="Adress"></td>
            <td><input class="form-control" placeholder="E-mail"></td>
            <td (click)="toggleAddForm()"><span class="btn btn-primary text-white w-100"><nb-icon
              icon="plus-lg"></nb-icon></span>
            </td>
          </tr>
          <tr [ngClass]="{'d-none':addFormActive}">
            <td><input class="form-control" placeholder="Full Name"></td>
            <td><input class="form-control" placeholder="Birthday"></td>
            <td><input class="form-control" placeholder="Phone Number"></td>
            <td><input class="form-control" placeholder="Adress"></td>
            <td><input class="form-control" placeholder="E-mail"></td>
            <td>
              <div class="d-flex flex-row justify-content-around m-auto">
                <div id="validateIcon">
                  <nb-icon icon="check-lg"></nb-icon>
                </div>
                <div class="verticalLign"></div>
                <div id="cancelIcon">
                  <nb-icon (click)="toggleAddForm()" icon="x"></nb-icon>
                </div>
              </div>
            </td>
          </tr>
          <tr *ngFor="let c of result.data">
            <td class="px-4">{{c.fullName}}</td>
            <td class="px-4">{{c.birthday |date:'dd/MM/yyyy'}}</td>
            <td class="px-4">{{c.phoneNumber}}</td>
            <td class="px-4">{{c.adress}}</td>
            <td class="px-4">{{c.email}}</td>
            <td>
              <div class="d-flex flex-row justify-content-around">
                <div class="editIcon">
                  <nb-icon icon="pencil"></nb-icon>
                </div>
                <div class="verticalLign"></div>
                <div class="deleteIcon">
                  <nb-icon icon="trash3"></nb-icon>
                </div>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </nb-card-body>
      <nb-card-footer>
        <ul class="list-group list-group-horizontal justify-content-center">
          <li class="list-group-item">
            <button class="btn text-primary">
              <nb-icon icon="chevron-double-left"></nb-icon>
            </button>
          </li>
          <li class="list-group-item">
            <button class="btn text-primary">
              <nb-icon icon="chevron-left"></nb-icon>
            </button>
          </li>
          <li class="list-group-item">
            <button class="btn text-primary">
              1
            </button>
          </li>
          <li class="list-group-item">
            <button class="btn text-primary">
              2
            </button>
          </li>
          <li class="list-group-item">
            <button class="btn text-primary">
              3
            </button>
          </li>
          <li class="list-group-item">
            <button class="btn text-primary">
              4
            </button>
          </li>
          <li class="list-group-item">
            <button class="btn text-primary">
              5
            </button>
          </li>
          <li class="list-group-item">
            <button class="btn text-primary">
              6
            </button>
          </li>
          <li class="list-group-item">
            <button class="btn text-primary">
              <nb-icon icon="chevron-right"></nb-icon>
            </button>
          </li>
          <li class="list-group-item">
            <button class="btn text-primary">
              <nb-icon icon="chevron-double-right"></nb-icon>
            </button>
          </li>
        </ul>
      </nb-card-footer>

    </nb-card>
  </ng-container>
</ng-container>
